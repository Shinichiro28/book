<!DOCTYPE html>
<html xmlns="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../static/css/style.css" th:href="@{/css/style.css}">
    <link th:href="@{/webjars/bootstrap/4.4.1-1/css/bootstrap.min.css}" rel="stylesheet"/>
    <title>本の投稿</title>
  </head>
  <body class="m-5">
    <script th:href="@{/webjars/jquery/3.5.0/js/jquery.min.js}"></script>
    <script th:href="@{/webjars/bootstrap/4.4.1-1/js/bootstrap.min.js}"></script>

    <h2>My Favorite Book!</h2>
    <p class="mt-3">あなたのお気に入りの本を教えてください。</p>
    <form th:action="@{/post/create}" th:object="${post}" method="post">
      <label>タイトル</label>
      <input type="text" th:field="*{name}" th:errorclass="invalid"><br>
      <div class="red" th:errors="*{name}"></div>
      <label>紹介文　</label>
      <input type="text" th:field="*{introduction}" th:errorclass="invalid">
      <button>投稿</button><br>
      <div class="red" th:errors="*{introduction}"></div>
      
    </form>

    <h2 class="list">紹介本一覧</h2>
    <table class="table">
      <thead>
        <tr>
          <th>タイトル</th>
          <th>紹介文</th>
        </tr>
      </thead>
      <tbody>
        <tr th:each="post : ${posts}">
          <td>[[${post.name}]]</td>
          <td>[[${post.introduction}]]</td>
          <td><a th:href="@{/post/edit/{id}(id=${post.id})}">編集</a></td>
          <td><a th:href="@{/post/delete/{id}(id=${post.id})}">削除</a></td>
        </tr>
      </tbody>
    </table>
  </body>
</html>